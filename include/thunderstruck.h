
#include "pcspkr.h"
#include "tty.h"

#define THUNDERSTRUCK_DELAY 100

Beep thunderstruck[] = {
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 739, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 739, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 739, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 739, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 739, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 739, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 739, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 739, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 783, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 783, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 783, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 783, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 783, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 783, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 783, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 783, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 739, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 739, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 739, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 739, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 739, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 739, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 739, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 739, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 783, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 783, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 783, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 783, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 783, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 783, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 783, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 783, .ms_len = THUNDERSTRUCK_DELAY },

    /* 4 times the same*/
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 987, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 880, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 830, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 880, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 830, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 739, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 830, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 739, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 492, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },

    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 987, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 880, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 830, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 880, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 830, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 739, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 830, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 739, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 492, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },

    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 987, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 880, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 830, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 880, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 830, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 739, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 830, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 739, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 492, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },

    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 987, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 880, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 830, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 880, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 830, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 739, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 830, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 739, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 492, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 659, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 493, .ms_len = THUNDERSTRUCK_DELAY },
    { .freq = 622, .ms_len = THUNDERSTRUCK_DELAY },
};

#define LENGTH(arr) (sizeof(arr) / sizeof(arr[0]))

static inline void play_thunderstruck(void) {
    vprintf("Playing thunderstruck...\n");

    for (unsigned long i = 0; i < LENGTH(thunderstruck); i++) {
        vprintf('\r');
        vprintf('[');
        vprintf("%3d", (unsigned int)i);
        vprintf(']');
        vprintf(" Frequency: %ld, Delay: %ld", thunderstruck[i].freq,
               thunderstruck[i].ms_len);
        pcspkr_beep_custom(thunderstruck[i]);
    }

    vprintf('\n');
}

